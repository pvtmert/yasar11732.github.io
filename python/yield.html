<!DOCTYPE html>
<html prefix="og: http://ogp.me/ns# article: http://ogp.me/ns/article# " lang="tr">
<head>
<meta charset="utf-8">
<meta name="description" content="Python'da bir generator objesi oluşturmak için kullanılan yield sözcüğünün amacını ve kullanımını öğrenmek için bu örnekli anlatımı okuyun.">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Python yield deyimi nedir? Ne işe yarar? | Python, Yazılım, ve Programlama</title>
<link href="../assets/css/bootstrap.min.css" rel="stylesheet" type="text/css">
<link href="../assets/css/html4css1.css" rel="stylesheet" type="text/css">
<link href="../assets/css/nikola_rst.css" rel="stylesheet" type="text/css">
<link href="../assets/css/code.css" rel="stylesheet" type="text/css">
<link href="../assets/css/colorbox.css" rel="stylesheet" type="text/css">
<link href="../assets/css/theme.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="alternate" type="application/rss+xml" title="RSS" href="../rss.xml">
<link rel="canonical" href="http://ysar.net/python/yield.html">
<!--[if lt IE 9]><script src="../assets/js/html5.js"></script><![endif]--><link rel="stylesheet" type="text/css" href="../styles/main.css">
<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><script>
  (adsbygoogle = window.adsbygoogle || []).push({
    google_ad_client: "ca-pub-3760371725357973",
    enable_page_level_ads: true
  });
</script><meta name="author" content="Yaşar Arabacı">
<link rel="prev" href="../yazilim-dunyasi/sayilarla-archlinux-paketcileri.html" title="Sayılarla ArchLinux Paketçileri" type="text/html">
<link rel="next" href="decorator.html" title="Python ve decorator... Nedir, ne işe yarar?" type="text/html">
<meta property="og:site_name" content="Python, Yazılım, ve Programlama">
<meta property="og:title" content="Python yield deyimi nedir? Ne işe yarar?">
<meta property="og:url" content="http://ysar.net/python/yield.html">
<meta property="og:description" content="Python'da bir generator objesi oluşturmak için kullanılan yield sözcüğünün amacını ve kullanımını öğrenmek için bu örnekli anlatımı okuyun.">
<meta property="og:type" content="article">
<meta property="article:published_time" content="2012-05-09T06:19:00+03:00">
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Ana içeriğe geç</a>

<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-static-top"><div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="http://ysar.net/">

                <span id="blog-title">Python, Yazılım, ve Programlama</span>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse" id="bs-navbar" role="navigation" aria-expanded="false">
            <ul class="nav navbar-nav">
<li>
<a href="../yasar-arabaci.html">Hakkımda</a>
                </li>
<li>
<a href="../soru-cevap.html">Soru-Cevap</a>
                </li>
<li>
<a href="../archive.html">Arşiv</a>
                </li>
<li>
<a href="../rss.xml">RSS kaynağı</a>

                
            </li>
</ul>
<!-- Custom search with google--><form id="search" action="//www.google.com/search" method="get" class="navbar-form pull-left">
<input type="hidden" name="q" value="site:http://ysar.net/"><input type="text" name="q" maxlength="255" results="0" placeholder="Search">
</form>
<!-- End of custom search -->


            <ul class="nav navbar-nav navbar-right">
<li>
    <a href="yield.md" id="sourcelink">Kaynak</a>
    </li>

                
            </ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
            
<article class="post-text h-entry hentry postpage" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title" itemprop="headline name"><a href="#" class="u-url">Python yield deyimi nedir? Ne işe yarar?</a></h1>

        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                    Yaşar Arabacı
            </span></p>
            <p class="dateline"><a href="#" rel="bookmark"><time class="published dt-published" datetime="2012-05-09T06:19:00+03:00" itemprop="datePublished" title="2012-05-09 06:19">2012-05-09 06:19</time></a></p>
            
        <p class="sourceline"><a href="yield.md" class="sourcelink">Kaynak</a></p>

        </div>
        

    </header><div class="e-content entry-content" itemprop="articleBody text">
    <div>
<p>Yazıya başlamadan önce, kullandığım dil ile ilgili bir açıklamada
bulunmam gerek. Her ne kadar bu yazının dili Türkçe olsa da, bazı
kelimeleri, özellikle de Türkçe'ye tam olarak geçmemiş, veya Türkçe
karşılığı henüz tam olarak yaygınlaşmamış bazı kelime ve terimleri
İngilizcede olduğu gibi kullanmaya karar verdim. Birtakım şeyleri
Türkçeye çevirmeye zorlamak, hem çok anlamsız oluyor, hem de bu
terimleri İngilizce adlarıyla bilenler için kafa karışıklığına neden
oluyor. Bu yüzden, yazının geri kalanında, aralara serpiştirilmiş
İngilizce kelimeler bulacaksınız.</p>
<p>Python dilindeki <em>yield</em> deyimini anlamak için, <em>generator</em>'ları bilmek
gerekiyor, <em>generator</em>'ları anlamak için de, <em>iterator</em> ve <em>iterable</em>
kavramlarını anlamak gerekiyor. İngilizcede "iterate" kelimesi, tekrar
tekrar uygulanmak veya işlenmek anlamına geliyor. Python'daki <em>iterable</em>
ve <em>iterator</em> kavramları bu kelimeden türetilmiş. Python'da <em>iter()</em>
yerleşik fonksiyona argüman olarak verebildiğimiz objelere iterable
diyoruz. iter() fonksiyonu bize bir iterator döndürüyor. <em>Iterator</em>,
objenin elemanları ne şekilde tanımlanırsa tanımlansın, bir koleksiyon
içindeki tüm elemanlara sırasıyla erişebilmemiz için ortak bir arayüz
oluşturan bir mekanizma. Kısacası, elemanları üzerinde sırasıyla
gezinebildiğimiz, listeler ve demetler gibi objelere <em>iterable</em> diyoruz.
Bu objeler, <code>iter()</code> fonksiyonu ile çağrıldığında, birer <em>iterator</em>
döndürüyor, ve bu <em>iterator</em>'lar bir koleksiyondan sırasıyla eleman
almak için kullanılıyor. <!-- TEASER_END --></p>
<p>Şu kod paçasına bir bakalım:</p>
<pre class="code literal-block"><span></span><span class="n">a</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">]</span>
<span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="n">a</span><span class="p">:</span>
 <span class="k">print</span> <span class="n">k</span>
</pre>


<p>Bu örnekte, sıradan bir liste ve for döngüsü görüyoruz. Buradaki liste,
for döngüsünde kullandığımız herşey gibi, bir <em>iterable</em>. Python'da for
döngüsü, önce <em>iterable</em> olarak verilen objeden, döngü sırasında
kullanmak için bir <em>iterator</em> elde ediyor. Biz bu aşamayı görmüyoruz, bu
aşama, Python'daki for döngülerinin çalışma yapısının bir parçası. Daha
sonra, bu <em>iterator</em> elemanlar tükendi sinyali verene kadar, k
değişkenini bir sonraki elemana atayıp, döngünün gövdesini
çalıştırılıyor. Yani, yukarıdaki for döngüsü ile aşağıdaki kod parçacığı
tamamen aynı çalışıyor.</p>
<pre class="code literal-block"><span></span><span class="n">a</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">]</span>
<span class="n">b</span> <span class="o">=</span> <span class="nb">iter</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
<span class="k">while</span> <span class="bp">True</span><span class="p">:</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">k</span> <span class="o">=</span> <span class="nb">next</span><span class="p">(</span><span class="n">b</span><span class="p">)</span>
 <span class="k">except</span> <span class="ne">StopIteration</span><span class="p">:</span>
       <span class="k">break</span>
   <span class="k">print</span> <span class="n">k</span>
</pre>


<p>Yukarıdaki örnekte, ikinci satırda listenin elemanlarını sırasıyla elde
etmek için bir <em>iterator</em> oluşturup, bunu b değişkenine atadık.
Yukarıdaki for döngüsünde, bu işlem for döngüsü tarafından kendiğinden
yapılıyordu. Daha sonra, 5. satırda, k'yı <em>iterator'</em>dan gelen bir
sonraki elemana atadık. Eğer iterator yeni eleman veremiyorsa,
StopIteration durumu oluşturuyor. Bu durumu <em>catch</em> ile yakalayıp,
döngüden çıkıyoruz. <em>Iterator'larla</em> ilgili son bir
şey;<em>iteratorlar</em> tek kullanımlıktır, bir kere tükendikten sonra, aynı
 objenin elemanları içinde tekrar gezinmek için, yeni bir <em>iterator</em>'a
ihtiyacımız var.</p>
<p>Python'daki <em>generator'</em>lar ise, farklı bir çeşit<em>iterable</em>'dır.
Bunların diğer <em>iterable</em>'lardan farklarından biri, bunların tek
kullanımlık olmasıdır. Örneğin, bir listeyi istediğiniz kadar for
döngüsünde kullanabilirsiniz, ancak, bir <em>generator</em>'u yalnız bir kere
for döngüsünde kullanabilirsiniz. Bunların bir diğer önemli farkı ise,
tüm elemanların hafızada tutulmaması. <em>Generator</em>lar, sırası gelen
elemanı üretip döndürür, daha sonra da bu elemanı unuturlar. Örneğin;</p>
<pre class="code literal-block"><span></span><span class="n">generator</span> <span class="o">=</span> <span class="p">(</span><span class="n">x</span><span class="o">*</span><span class="n">x</span><span class="o">*</span><span class="n">x</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">5</span><span class="p">))</span>
<span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="n">generator</span><span class="p">:</span>
   <span class="k">print</span> <span class="n">k</span>
<span class="sd">"""</span>
<span class="sd">Ekrana şunu basar:</span>
<span class="sd">0</span>
<span class="sd">1</span>
<span class="sd">8</span>
<span class="sd">27</span>
<span class="sd">64</span>
<span class="sd">"""</span>
<span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="n">generator</span><span class="p">:</span>
   <span class="k">print</span> <span class="n">k</span>
<span class="sd">"""</span>
<span class="sd">Ekrana hiçbir şey basılmaz, çünkü generator'u bir kere kullandık ve bitti.</span>
<span class="sd">"""</span>
</pre>


<p>Yukarıdaki örnekte, ilk satırda bir <em>generator</em> oluşturup, bunu
generator isimli bir değişkene atadık. Şimdi bunu, istediğimiz gibi for
döngüsünde kullanabiliriz. Burada dikkat edilmesi gereken nokta, 0,1,8
gibi değerlerin, ilk satırda oluşturulmamış olması. Bu değerler, for
döngüsünde sıraları geldiklerinde oluşup, işleri bittikten sonra
hafızadan siliniyorlar. Genel olarak <em>generator</em>ların olayı bu kadar.</p>
<p>Artık <em>yield</em> deyimini anlamak için, yeterli altyapıya sahibiz. <em>yield</em>
deyimi, <em>return</em> deyimi gibi fonksiyonlarda kullanılır, ancak, fonksiyon
bir generator döndürür. Şu örneğe bakalım;</p>
<pre class="code literal-block"><span></span><span class="k">def</span> <span class="nf">creategeneratorSquare</span><span class="p">(</span><span class="n">l</span><span class="p">):</span>
    <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">l</span><span class="p">:</span>
     <span class="k">yield</span> <span class="n">x</span> <span class="o">*</span> <span class="n">x</span>

<span class="n">generator</span> <span class="o">=</span> <span class="n">creategeneratorSquare</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">])</span>
<span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="n">generator</span><span class="p">:</span>
   <span class="k">print</span> <span class="n">k</span>

<span class="sd">"""</span>
<span class="sd">Ekrana şunu basar:    </span>
<span class="sd">1</span>
<span class="sd">4</span>
<span class="sd">9</span>
<span class="sd">16</span>
<span class="sd">25</span>
<span class="sd">"""</span>
</pre>


<p>Yukarıdaki kod parçacığında, creategeneratorSquare isimli bir fonksiyon
oluşturduk. Bu fonksiyonun, normal fonksiyonlardan farkı, bir generator
döndürmesi. Bu fonksiyonu çağrıdığımızda, normal fonksiyonlardan
beklediğimiz gibi, fonksiyonun gövdesi <strong>çalışmıyor</strong>, bunun yerine
fonksiyon bir <em>generator</em> döndürüyor. Bu <em>generator</em> for döngüsü içinde
kullanıldığında, fonksiyon içinde yazdığımız kod, <em>yield</em> görene kadar
çalışıyor. Burada, <em>yield</em> deyimi "x * x" döndürüyor ve beklemeye
başlıyor. Daha sonra, 6. satırdaki döngü, bir sonraki elemanı istedikçe,
beklemedeki kod bloğu tekrar <em>yield</em> görene kadar çalışıp, <em>yield</em>
gördüğünde sıradaki elemanı döndürüyor. Böylece, bu kod bloğu
tamamlanıncaya kadar, 6. satırdaki for döngüsü k'ya farklı değerler
atayıp, bunları ekrana bastırıyor.</p>
<p>Bir örneğe daha bakalım;</p>
<pre class="code literal-block"><span></span><span class="k">def</span> <span class="nf">fibogenerator</span><span class="p">():</span>
  <span class="n">a</span><span class="p">,</span><span class="n">b</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span><span class="mi">1</span>
   <span class="k">while</span> <span class="bp">True</span><span class="p">:</span>
     <span class="k">yield</span> <span class="n">b</span>
     <span class="n">a</span><span class="p">,</span><span class="n">b</span> <span class="o">=</span> <span class="n">b</span><span class="p">,</span> <span class="n">a</span> <span class="o">+</span> <span class="n">b</span>


<span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="n">fibogenerator</span><span class="p">():</span>
   <span class="k">if</span> <span class="n">k</span> <span class="o">&gt;</span> <span class="mi">10000000</span><span class="p">:</span>
     <span class="k">print</span> <span class="n">k</span>
     <span class="k">break</span>

<span class="sd">"""</span>
<span class="sd">Ekrana şunu basar:  </span>
<span class="sd">14930352</span>
<span class="sd">"""</span>
</pre>


<p>Bu örnekte, biz istedikçe bir sonraki fibonacci sayısını veren bir
<em>generator</em> kullanmak istedik. Bunun için, fibogenerator isimli bir
fonksiyon yazdık. Bir önceki örnekten farklı olarak, bu sefer
<em>generator</em>'u bir ara değişkende tutmaktansa, doğrudan for döngüsü
içinde kullandık. <em>Generator</em> zaten tek kullanımlık olduğu için, bunları
bir değişkene atamak çoğu zaman gereksiz. For döngüsünde ise, k 10
milyon'dan büyük olduğunda, k'yı ekrana bas ve döngüden çık dedik. Eğer
döngüden çıkmak için herhangi birşey kullanmazsak, bu for döngüsü
sonsuza kadar çalışırdı, çünkü, yazdığımız <em>generator</em> doğal yollardan
sonlanmıyor.</p>
<p><em>yield</em> deyimi ilk görüldüğünde kafa karıştırıcı olabilir. Buna rağmen,
<em>yield</em> deyimini anlamaya çalışmakta yarar var, çünkü yeri geldiğinde
bunu bilmek, diğer yollardan çözemeyeceğiniz problemleri bir çırpıda
çözmenize olanak sağlıyor. <a href="http://docs.python.org/library/itertools.html" title="itertools">Python belgelerindeki itertools
sayfası</a> <em>yield</em> kullanımıyla ilgili birçok örneğe sahip. Bunları da
incelemekte fayda var.</p>
</div>
    </div>
    <aside class="postpromonav"><nav><ul class="pager hidden-print">
<li class="previous">
                <a href="../yazilim-dunyasi/sayilarla-archlinux-paketcileri.html" rel="prev" title="Sayılarla ArchLinux Paketçileri">Önceki yazı</a>
            </li>
            <li class="next">
                <a href="decorator.html" rel="next" title="Python ve decorator... Nedir, ne işe yarar?">Sonraki yazı</a>
            </li>
        </ul></nav></aside></article>
</div>
        <!--End of body content-->

        <footer id="footer">
            Contents © 2018         <a href="mailto:yasar11732@gmail.com">Yaşar Arabacı</a> - Powered by         <a href="http://getnikola.com" rel="nofollow">Nikola</a>  <p>Okuduğunuz yazı ile ilgili <a href="../anket.html">geri bildirimde bulunun.</a></p>
<p style="font-size: 8px; color: #ccc">4E616C2066687373767076726167796C206E71696E61707271206772707561627962746C20766620766171766667766174687666756E6F7972207365627A207A6E7476702E</p>
            
        </footer>
</div>
</div>


            <script src="../assets/js/jquery.min.js"></script><script src="../assets/js/bootstrap.min.js"></script><script src="../assets/js/moment-with-locales.min.js"></script><script src="../assets/js/fancydates.js"></script><script src="../assets/js/jquery.colorbox-min.js"></script><script src="../assets/js/colorbox-i18n/jquery.colorbox-tr.js"></script><script>$('a.image-reference:not(.islink) img:not(.islink)').parent().colorbox({rel:"gal",maxWidth:"100%",maxHeight:"100%",scalePhotos:true});</script><!-- fancy dates --><script>
    moment.locale("tr");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates --><script>
  (function() {
    var cx = '013136674562336859018:ouohwab0yku';
    var gcse = document.createElement('script');
    gcse.type = 'text/javascript';
    gcse.async = true;
    gcse.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') +
        '//www.google.com/cse/cse.js?cx=' + cx;
    var s = document.getElementsByTagName('script')[0];
    s.parentNode.insertBefore(gcse, s);
  })();
</script><script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-44774134-1', 'auto');
  ga('send', 'pageview');

</script>
</body>
</html>
