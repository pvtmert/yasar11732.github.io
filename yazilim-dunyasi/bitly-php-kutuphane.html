<!DOCTYPE html>
<html prefix="og: http://ogp.me/ns# article: http://ogp.me/ns/article# " lang="tr">
<head>
<meta charset="utf-8">
<meta name="description" content="Bir php kütüphanesi aracılığıyla, bitly api'ye bağlanıp, url kısaltma, uzatma ve url istatistikleri alma örneklerle anlatılıyor.">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Bitly ve php ile url kısaltmak | Python, Yazılım, ve Programlama</title>
<link href="../assets/css/bootstrap.min.css" rel="stylesheet" type="text/css">
<link href="../assets/css/html4css1.css" rel="stylesheet" type="text/css">
<link href="../assets/css/nikola_rst.css" rel="stylesheet" type="text/css">
<link href="../assets/css/code.css" rel="stylesheet" type="text/css">
<link href="../assets/css/colorbox.css" rel="stylesheet" type="text/css">
<link href="../assets/css/theme.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="alternate" type="application/rss+xml" title="RSS" href="../rss.xml">
<link rel="canonical" href="http://ysar.net/yazilim-dunyasi/bitly-php-kutuphane.html">
<!--[if lt IE 9]><script src="../assets/js/html5.js"></script><![endif]--><meta name="author" content="Yaşar Arabacı">
<link rel="prev" href="bitly-php-library.html" title="Announcing php library for bitly api" type="text/html">
<link rel="next" href="real-scientists-make-their-own-data.html" title="Real scientists make their own data" type="text/html">
<meta property="og:site_name" content="Python, Yazılım, ve Programlama">
<meta property="og:title" content="Bitly ve php ile url kısaltmak">
<meta property="og:url" content="http://ysar.net/yazilim-dunyasi/bitly-php-kutuphane.html">
<meta property="og:description" content="Bir php kütüphanesi aracılığıyla, bitly api'ye bağlanıp, url kısaltma, uzatma ve url istatistikleri alma örneklerle anlatılıyor.">
<meta property="og:type" content="article">
<meta property="article:published_time" content="2013-01-23T00:18:30+02:00">
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Ana içeriğe geç</a>

<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-static-top"><div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="http://ysar.net/">

                <span id="blog-title">Python, Yazılım, ve Programlama</span>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse" id="bs-navbar" role="navigation" aria-expanded="false">
            <ul class="nav navbar-nav">
<li>
<a href="../yasar-arabaci.html">Hakkımda</a>
                </li>
<li>
<a href="../soru-cevap.html">Soru-Cevap</a>
                </li>
<li>
<a href="../archive.html">Arşiv</a>
                </li>
<li>
<a href="../rss.xml">RSS kaynağı</a>

                
            </li>
</ul>
<!-- Custom search with google--><form id="search" action="//www.google.com/search" method="get" class="navbar-form pull-left">
<input type="hidden" name="q" value="site:http://ysar.net/"><input type="text" name="q" maxlength="255" results="0" placeholder="Search">
</form>
<!-- End of custom search -->


            <ul class="nav navbar-nav navbar-right">
<li>
    <a href="bitly-php-kutuphane.md" id="sourcelink">Kaynak</a>
    </li>

                
            </ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
            
<article class="post-text h-entry hentry postpage" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title" itemprop="headline name"><a href="#" class="u-url">Bitly ve php ile url kısaltmak</a></h1>

        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                    Yaşar Arabacı
            </span></p>
            <p class="dateline"><a href="#" rel="bookmark"><time class="published dt-published" datetime="2013-01-23T00:18:30+02:00" itemprop="datePublished" title="2013-01-23 00:18">2013-01-23 00:18</time></a></p>
            
        <p class="sourceline"><a href="bitly-php-kutuphane.md" class="sourcelink">Kaynak</a></p>

        </div>
        

    </header><div class="e-content entry-content" itemprop="articleBody text">
    <div>
<p>Öncelikle, Php ile bitly apisine erişimimizi sağlayacak kütüphaneyi
<a href="https://github.com/yasar11732/bitly-api-php">bitly-api-php deposu</a> üzerinden indiriyoruz. Bu kütüphane henüz (21 ocak 2012) fazla
denenmedi. Ancak, çok önemli bir sorunu görünmüyor.</p>
<p>Bunu kullanabilmek için, php 5 çalıştıran bir web sunucuya da
ihtiyacımız olacak. Bunun dışında, bir bitly login ismi ve bir api
anahtarına da ihtiyaç duyacaksınız. Bunlara <a href="https://bitly.com/a/your_api_key" title="Bitly login and api_key">Bitly login and api_key</a> sayfasından ulaşabilirsiniz.
Ya da <a href="https://bitly.com/a/oauth_apps" title="Bitly access token">Bitly access token</a> sayfasından bitly servislerine ulaşmak için kullanacağınız access
token'ı alabilirsiniz. Bunları yaptıktan sonra, yeni bir Bitly objesi
oluşturarak başlayalım; <!-- TEASER_END --></p>
<pre class="code literal-block"><span></span><span class="cp">&lt;?php</span>
<span class="k">include</span><span class="p">(</span><span class="s2">"bitly_api.php"</span><span class="p">);</span>
<span class="nv">$bitly</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Bitly</span><span class="p">(</span><span class="k">array</span><span class="p">(</span><span class="s2">"login"</span> <span class="o">=&gt;</span> <span class="s2">"----"</span><span class="p">,</span> <span class="s2">"api_key"</span> <span class="o">=&gt;</span> <span class="s2">"----"</span><span class="p">));</span> <span class="c1"># kendi bilgileriniz doldurun.</span>
<span class="c1"># ya da oauth 2 kullanmak için, access token kullanın.</span>
<span class="nv">$bitly</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Bitly</span><span class="p">(</span><span class="k">array</span><span class="p">(</span><span class="s2">"access_token"</span> <span class="o">=&gt;</span> <span class="s2">"----"</span><span class="p">))</span>
</pre>


<p>Artık bitly apisini kullanmaya başlayabiliriz, öncelikle nasıl url
kısaltacağımız görelim;</p>
<pre class="code literal-block"><span></span><span class="cp">&lt;?php</span>
<span class="nv">$data</span> <span class="o">=</span> <span class="nv">$bitly</span><span class="o">-&gt;</span><span class="na">shorten</span><span class="p">(</span><span class="s2">"http://betaworks.com/page?parameter=value#anchor"</span><span class="p">);</span>
<span class="nb">print_r</span><span class="p">(</span><span class="nv">$data</span><span class="p">);</span>
</pre>


<p>Şuna benzer bir çıktı alacağız;
</p>
<pre>
Array
(
    [long_url] =&gt; http://betaworks.com/page?parameter=value#anchor
    [url] =&gt; http://bit.ly/XkH7mN
    [hash] =&gt; XkH7mN
    [global_hash] =&gt; aEemC8
    [new_hash] =&gt; 0
)
</pre>
<p>shorten metodu bir array döndürüyor. Bizim ilgilendiğimiz kısa url bu
array'in url anahtarında.  Şimdi de kısaltılmış bir linkin uzun halini
nasıl alabiliriz ona bakalım, bunun için kısa linki veya bunun hash
değerini sorgulatabiliriz.</p>
<pre class="code literal-block"><span></span><span class="cp">&lt;?php</span>
<span class="nv">$params</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span>
            <span class="s2">"hash"</span> <span class="o">=&gt;</span> <span class="s2">"XkH7mN"</span>
        <span class="p">);</span>
<span class="nv">$data</span>   <span class="o">=</span> <span class="nv">$bitly</span><span class="o">-&gt;</span><span class="na">expand</span><span class="p">(</span><span class="nv">$params</span><span class="p">);</span>
<span class="nb">print_r</span><span class="p">(</span><span class="nv">$data</span><span class="p">);</span>
</pre>


<p>Çıktı:
</p>
<pre>
Array
(
    [0] =&gt; Array
        (
            [hash] =&gt; XkH7mN
            [long_url] =&gt; http://betaworks.com/page?parameter=value#anchor
            [user_hash] =&gt; XkH7mN
            [global_hash] =&gt; aEemC8
        )
<p>) </p></pre>
<p>Aynı zamanda, birden fazla hash değerini (api 15'e kadar destekliyor)
sorgulatabilirsiniz:</p>
<pre class="code literal-block"><span></span><span class="cp">&lt;?php</span>
<span class="nv">$params</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span>
            <span class="s2">"hash"</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
                <span class="s2">"Xky7y9"</span><span class="p">,</span>
                <span class="s2">"VR455I"</span>
            <span class="p">)</span>
        <span class="p">);</span>
<span class="nv">$data</span>   <span class="o">=</span> <span class="nv">$bitly</span><span class="o">-&gt;</span><span class="na">expand</span><span class="p">(</span><span class="nv">$params</span><span class="p">);</span>
<span class="nb">print_r</span><span class="p">(</span><span class="nv">$data</span><span class="p">);</span>
</pre>


<p>Çıktı:</p>
<pre>
Array
(
    [0] =&gt; Array
        (
            [hash] =&gt; Xky7y9
            [long_url] =&gt; https://github.com/
            [user_hash] =&gt; Xky7y9
            [global_hash] =&gt; 3mWN3O
        )

    [1] =&gt; Array
        (
            [hash] =&gt; VR455I
            [long_url] =&gt; http://www.google.com/
            [user_hash] =&gt; VR455I
            [global_hash] =&gt; 2V6CFi
        )

) </pre>

<p>Linklerle ilgili ulaşabileceğimiz birkaç metrik var. Tıklanma verileri,
ülkeler, paylaşımlar vs. gibi metrikler var. Tıklanma ilgili metriklere
nasıl ulaşacağımıza bakalım;</p>
<pre class="code literal-block"><span></span><span class="cp">&lt;?php</span>
<span class="nb">print_r</span><span class="p">(</span><span class="nv">$bitly</span><span class="o">-&gt;</span><span class="na">link_clicks</span><span class="p">(</span><span class="s2">"http://bit.ly/XkH7mN"</span><span class="p">));</span>
</pre>


<p>Bu bize çıktı olarak bir sayı verecek. Sonuç olarak, bitly api'si derya
deniz, hepsine tek tek giremiyeceğim, gerisini çözmeyi de okuyucuya
bırakıyorum. Kolay gele...</p>
</div>
    </div>
    <aside class="postpromonav"><nav><ul class="pager hidden-print">
<li class="previous">
                <a href="bitly-php-library.html" rel="prev" title="Announcing php library for bitly api">Önceki yazı</a>
            </li>
            <li class="next">
                <a href="real-scientists-make-their-own-data.html" rel="next" title="Real scientists make their own data">Sonraki yazı</a>
            </li>
        </ul></nav></aside></article>
</div>
        <!--End of body content-->

        <footer id="footer">
            Contents © 2018         <a href="mailto:yasar11732@gmail.com">Yaşar Arabacı</a> - Powered by         <a href="http://getnikola.com" rel="nofollow">Nikola</a>  <p>Okuduğunuz yazı ile ilgili <a href="../anket.html">geri bildirimde bulunun.</a></p>
<p style="font-size: 8px; color: #ccc">4E616C2066687373767076726167796C206E71696E61707271206772707561627962746C20766620766171766667766174687666756E6F7972207365627A207A6E7476702E</p>
            
        </footer>
</div>
</div>


            <script src="../assets/js/jquery.min.js"></script><script src="../assets/js/bootstrap.min.js"></script><script src="../assets/js/moment-with-locales.min.js"></script><script src="../assets/js/fancydates.js"></script><script src="../assets/js/jquery.colorbox-min.js"></script><script src="../assets/js/colorbox-i18n/jquery.colorbox-tr.js"></script><script>$('a.image-reference:not(.islink) img:not(.islink)').parent().colorbox({rel:"gal",maxWidth:"100%",maxHeight:"100%",scalePhotos:true});</script><!-- fancy dates --><script>
    moment.locale("tr");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates --><script>
  if(document.location.hostname == "ysar.net")
  {
      (function() {
        var cx = '013136674562336859018:ouohwab0yku';
        var gcse = document.createElement('script');
        gcse.type = 'text/javascript';
        gcse.async = true;
        gcse.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') +
            '//www.google.com/cse/cse.js?cx=' + cx;
        var s = document.getElementsByTagName('script')[0];
        s.parentNode.insertBefore(gcse, s);
      })();
      
        (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
          (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
          m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
          })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

          ga('create', 'UA-44774134-1', 'auto');
          ga('send', 'pageview');
  }

</script>
</body>
</html>
